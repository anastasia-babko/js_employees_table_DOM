{"version":3,"sources":["scripts/main.js"],"names":["tableHead","document","querySelector","tableBody","sortOrder","sortHeader","normalizeNumber","number","newNumber","includes","replace","toggleSelect","tr","classList","toggle","singleSelect","selectedItems","querySelectorAll","remove","add","addEventListener","e","toSort","target","cellIndex","forSortedTable","children","sort","a","b","cellA","cells","innerText","cellB","localeCompare","append","closest","ctrlKey","metaKey","form","createElement","body","citiesOptions","formInputs","addInput","inputName","inputType","label","input","type","name","toLowerCase","dataset","qa","after","select","city","Option","button","saveDataToTable","data","innerHTML","position","office","age","Number","salary","toLocaleString","checkValidation","match","length","pushNotification","preventDefault","Object","fromEntries","FormData","entries","reset","title","description","messageConteiner","messageTitle","messageDescription","textContent","setTimeout","initialValue","focus","isString","isName","isOffice","isAge","isSalary","changeCellContent","value","saveEditedField","toString","onblur","onkeydown","keyboardEvent","code"],"mappings":";AAAA,aA6NA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,6IAAA,SAAA,EAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,CAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,MAAA,EAAA,OAAA,UAAA,CAAA,GAAA,MAAA,QAAA,KAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,aAAA,MAAA,CAAA,EAAA,EAAA,EAAA,WAAA,OAAA,GAAA,EAAA,OAAA,CAAA,MAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,SAAA,GAAA,MAAA,GAAA,EAAA,GAAA,MAAA,IAAA,UAAA,yIAAA,IAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,MAAA,CAAA,EAAA,WAAA,EAAA,EAAA,OAAA,aAAA,EAAA,WAAA,IAAA,EAAA,EAAA,OAAA,OAAA,EAAA,EAAA,KAAA,GAAA,EAAA,SAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,WAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EA3NA,IAAMA,EAAYC,SAASC,cAAc,SACnCC,EAAYF,SAASC,cAAc,SACrCE,EAAY,GACZC,EAAa,KAEjB,SAASC,EAAgBC,GAShBC,OANHD,EAAOE,SAAS,KACNF,EAAOG,QAAQ,QAAS,IAExBH,EAoChB,SAASI,EAAaC,GACpBA,EAAGC,UAAUC,OAAO,UAGtB,SAASC,EAAaH,GACdI,IADkB,EAGLA,EAAAA,EAFGb,EAAUc,iBAAiB,YADzB,IAGU,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAA,EAAA,MAC3BJ,UAAUK,OAAO,WAJA,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,IAOxBN,EAAGC,UAAUM,IAAI,UAzCnBnB,EAAUoB,iBAAiB,QAAS,SAACC,GAC7BC,IAAAA,EAASD,EAAEE,OAAOC,UAClBD,EAASF,EAAEE,OAEblB,IAAekB,GACjBnB,EAAY,MACZC,EAAakB,IAEbnB,EAAY,OACZC,EAAa,MAGToB,IAAAA,EAAiB,EAAItB,EAAUuB,UAAUC,KAAK,SAACC,EAAGC,GAChDC,IAAAA,EAAQF,EAAEG,MAAMT,GAAQU,UACxBC,EAAQJ,EAAEE,MAAMT,GAAQU,UAE1B5B,MAAc,QAAdA,GAC+B,IAAzB0B,EAAMrB,SAAS,KACnBqB,EAAMI,cAAcD,GACpB3B,EAAgBwB,GAASxB,EAAgB2B,IAEZ,IAAzBH,EAAMrB,SAAS,KACnBwB,EAAMC,cAAcJ,GACpBxB,EAAgB2B,GAAS3B,EAAgBwB,KAIjD3B,EAAUgC,OAAVhC,MAAAA,EAAoBsB,EAAAA,MAiBtBtB,EAAUiB,iBAAiB,QAAS,SAACC,GAC7BE,IAAAA,EAASF,EAAEE,OAAOa,QAAQ,MAE5Bf,EAAEgB,SAAWhB,EAAEiB,QACjB3B,EAAaY,GAEbR,EAAaQ,KAIjB,IAAMgB,EAAOtC,SAASuC,cAAc,QAEpCD,EAAK1B,UAAUM,IAAI,qBACnBlB,SAASwC,KAAKN,OAAOI,GAErB,IAAMG,EAAgB,CACpB,QACA,YACA,SACA,WACA,YACA,iBAEIC,EAAa,CACjB,CAAC,OAAQ,QACT,CAAC,WAAY,QACb,CAAC,MAAO,UACR,CAAC,SAAU,WAGb,SAASC,EAASC,EAAWC,GACrBC,IAAAA,EAAQ9C,SAASuC,cAAc,SAC/BQ,EAAQ/C,SAASuC,cAAc,SAS9BO,OAPPA,EAAMf,UAAYa,EAAY,KAC9BG,EAAMC,KAAOH,EACbE,EAAME,KAAOL,EAAUM,cACvBH,EAAMI,QAAQC,GAAKR,EAAUM,cAE7BJ,EAAMZ,OAAOa,GAEND,EAGT,IAA4BJ,IAAAA,EAAAA,EAAAA,EAAAA,EAAY,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,GAAA,GAA5BK,EAA4B,EAAA,GAArBC,EAAqB,EAAA,GACtCV,EAAKJ,OAAOS,EAASI,EAAOC,IAG9BV,EAAKrC,cAAc,iBAAiBoD,MAAO,WACnCP,IAAAA,EAAQ9C,SAASuC,cAAc,SAC/Be,EAAStD,SAASuC,cAAc,UAEtCO,EAAMf,UAAY,WAClBuB,EAAOL,KAAO,SACdK,EAAOH,QAAQC,GAAK,SAEDX,IAR4B,EAQ5BA,EAAAA,EAAAA,GAR4B,IAQb,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAvBc,IAAAA,EAAuB,EAAA,MAChCD,EAAOpB,OAAO,IAAIsB,OAAOD,KAToB,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,IAcxCT,OAFPA,EAAMZ,OAAOoB,GAENR,EAdkC,IAiB3C,IAAMW,EAASzD,SAASuC,cAAc,UAOtC,SAASmB,EAAgBC,GACjBhD,IAAAA,EAAKX,SAASuC,cAAc,MAElC5B,EAAGiD,UACKD,aAAAA,OAAAA,EAAKV,KACLU,mBAAAA,OAAAA,EAAKE,SACLF,mBAAAA,OAAAA,EAAKG,OACLH,mBAAAA,OAAAA,EAAKI,IACJC,oBAAAA,OAAAA,OAAOL,EAAKM,QAAQC,eAAe,SAL5C,aAQAhE,EAAUgC,OAAOvB,GAGnB,SAASwD,EAAgBR,GACnB,OAACA,EAAKV,KAAKmB,MAAM,iBAQjBT,EAAKV,KAAKoB,OAAS,GACrBC,EAAiB,eACf,4CACA,UAEK,GAGLX,EAAKI,IAAM,IAAMJ,EAAKI,IAAM,IAC9BO,EAAiB,cACf,yBACA,UAEK,GAGa,KAAlBX,EAAKE,UAAmC,KAAhBF,EAAKM,QAC/BK,EAAiB,eACf,2BACA,UAEK,IAGTA,EAAiB,SACf,mCACA,YAGK,IApCLA,EAAiB,eACf,wBACA,UAEK,GAzBXb,EAAOT,KAAO,SACdS,EAAO1B,UAAY,gBAEnBO,EAAKJ,OAAOuB,GAyDZA,EAAOtC,iBAAiB,QAAS,SAACC,GAChCA,EAAEmD,iBAEIZ,IAAAA,EAAOa,OAAOC,YAAY,IAAIC,SAASpC,GAAMqC,WAE9CR,EAAgBR,KAIrBD,EAAgBC,GAChBrB,EAAKsC,WAGP,IAAMN,EAAmB,SAACO,EAAOC,EAAa9B,GACtC+B,IAAAA,EAAmB/E,SAASuC,cAAc,OAC1CyC,EAAehF,SAASuC,cAAc,MACtC0C,EAAqBjF,SAASuC,cAAc,KAElDvC,SAASwC,KAAKN,OAAO6C,GACrBA,EAAiB7C,OAAO8C,GACxBD,EAAiB7C,OAAO+C,GACxBF,EAAiBnE,UAAUM,IAAI,eAAgB8B,GAC/C+B,EAAiBnE,UAAUM,IAAO8B,GAAAA,OAAAA,IAClC+B,EAAiB5B,QAAQC,GAAK,eAC9B4B,EAAapE,UAAUM,IAAI,SAC3B8D,EAAaE,YAAcL,EAC3BI,EAAmBC,YAAcJ,EAEjCK,WAAW,WAAMJ,OAAAA,EAAiB9D,UAAU,MAG9Cf,EAAUiB,iBAAiB,WAAY,SAACC,GAChCE,IAAAA,EAASF,EAAEE,OACXyB,EAAQ/C,SAASuC,cAAc,SAC/B6C,EAAe9D,EAAOS,UAE5BgB,EAAMnC,UAAUM,IAAI,cACpB6B,EAAMC,KAAO,OACbD,EAAME,KAAO,YACb3B,EAAOS,UAAY,GACnBT,EAAOY,OAAOa,GACdA,EAAMsC,QAEAC,IAAAA,EAAgC,IAArBhE,EAAOC,WACE,IAArBD,EAAOC,UACNgE,EAA8B,IAArBjE,EAAOC,UAChBiE,EAAgC,IAArBlE,EAAOC,UAClBkE,EAA6B,IAArBnE,EAAOC,UACfmE,EAAgC,IAArBpE,EAAOC,UAEfoE,SAAAA,IAAkBC,IAAAA,EAAQR,UAAAA,OAAAA,QAAAA,IAAAA,UAAAA,GAAAA,UAAAA,GAAAA,EACjC9D,EAAOS,UAAY6D,EACnB7C,EAAM9B,SAGC4E,SAAAA,IACF9C,EAAM6C,SAMNH,IAASC,GAAc3C,EAAM6C,MAAMxB,MAAM,UAM1CkB,GAAYvC,EAAM6C,MAAMxB,MAAM,SAChCuB,IAKED,GAAY3C,EAAM6C,MAAMxB,MAAM,SAChCuB,EAAkB,IAAM5C,EAAM6C,MAC3BE,WAAWrF,QAAQ,wBAAyB,MAK7C8E,GAAUxC,EAAM6C,MAAMvB,OAAS,EACjCsB,KAKEJ,GAAWxC,EAAM6C,MAAMxB,MAAM,iBAM7BqB,KAAW1C,EAAM6C,MAAQ,KAAO7C,EAAM6C,MAAQ,IAChDD,KAKEH,GAAa/C,EAAcjC,SAASuC,EAAM6C,OAM9CD,EAAkB5C,EAAM6C,OALtBD,IAZAA,IA/BAA,IAmDJ5C,EAAMgD,OAAS,WACbF,KAGF9C,EAAMiD,UAAY,SAACC,GACsB,UAAvBA,EAAcC,MAG5BL","file":"main.5197ef69.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tableHead = document.querySelector('thead');\nconst tableBody = document.querySelector('tbody');\nlet sortOrder = '';\nlet sortHeader = null;\n\nfunction normalizeNumber(number) {\n  let newNumber;\n\n  if (number.includes('$')) {\n    newNumber = number.replace(/[$,]/g, '');\n  } else {\n    newNumber = number;\n  }\n\n  return newNumber;\n};\n\ntableHead.addEventListener('click', (e) => {\n  const toSort = e.target.cellIndex;\n  const target = e.target;\n\n  if (sortHeader !== target) {\n    sortOrder = 'ASC';\n    sortHeader = target;\n  } else {\n    sortOrder = 'DESC';\n    sortHeader = null;\n  }\n\n  const forSortedTable = [...tableBody.children].sort((a, b) => {\n    const cellA = a.cells[toSort].innerText;\n    const cellB = b.cells[toSort].innerText;\n\n    if (sortOrder === 'ASC') {\n      return (cellA.includes('$')) === false\n        ? cellA.localeCompare(cellB)\n        : normalizeNumber(cellA) - normalizeNumber(cellB);\n    } else {\n      return (cellA.includes('$')) === false\n        ? cellB.localeCompare(cellA)\n        : normalizeNumber(cellB) - normalizeNumber(cellA);\n    }\n  });\n\n  tableBody.append(...forSortedTable);\n});\n\nfunction toggleSelect(tr) {\n  tr.classList.toggle('active');\n};\n\nfunction singleSelect(tr) {\n  const selectedItems = tableBody.querySelectorAll('.active');\n\n  for (const item of selectedItems) {\n    item.classList.remove('active');\n  }\n\n  tr.classList.add('active');\n};\n\ntableBody.addEventListener('click', (e) => {\n  const target = e.target.closest('tr');\n\n  if (e.ctrlKey || e.metaKey) {\n    toggleSelect(target);\n  } else {\n    singleSelect(target);\n  }\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\ndocument.body.append(form);\n\nconst citiesOptions = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\nconst formInputs = [\n  ['Name', 'text'],\n  ['Position', 'text'],\n  ['Age', 'number'],\n  ['Salary', 'number'],\n];\n\nfunction addInput(inputName, inputType) {\n  const label = document.createElement('label');\n  const input = document.createElement('input');\n\n  label.innerText = inputName + ': ';\n  input.type = inputType;\n  input.name = inputName.toLowerCase();\n  input.dataset.qa = inputName.toLowerCase();\n\n  label.append(input);\n\n  return label;\n};\n\nfor (const [input, type] of formInputs) {\n  form.append(addInput(input, type));\n};\n\nform.querySelector(':nth-child(2)').after((() => {\n  const label = document.createElement('label');\n  const select = document.createElement('select');\n\n  label.innerText = 'Office: ';\n  select.name = 'office';\n  select.dataset.qa = 'office';\n\n  for (const city of citiesOptions) {\n    select.append(new Option(city));\n  }\n\n  label.append(select);\n\n  return label;\n})());\n\nconst button = document.createElement('button');\n\nbutton.type = 'submit';\nbutton.innerText = 'Save to table';\n\nform.append(button);\n\nfunction saveDataToTable(data) {\n  const tr = document.createElement('tr');\n\n  tr.innerHTML = `\n    <td>${data.name}</td>\n    <td>${data.position}</td>\n    <td>${data.office}</td>\n    <td>${data.age}</td>\n    <td>$${Number(data.salary).toLocaleString('en-US')}</td>\n  `;\n\n  tableBody.append(tr);\n};\n\nfunction checkValidation(data) {\n  if (!data.name.match(/^[a-zA-Z ]*$/g)) {\n    pushNotification('Invalid data',\n      'Only English allowed!',\n      'error');\n\n    return false;\n  }\n\n  if (data.name.length < 4) {\n    pushNotification('Invalid name',\n      'Name is too short, enter the correct one!',\n      'error');\n\n    return false;\n  }\n\n  if (data.age < 18 || data.age > 90) {\n    pushNotification('Invalid age',\n      'Enter the correct age!',\n      'error');\n\n    return false;\n  }\n\n  if (data.position === '' || data.salary === '') {\n    pushNotification('Missing data',\n      'Please, fill all fields!',\n      'error');\n\n    return false;\n  }\n\n  pushNotification('Great!',\n    'New employee successfully added!',\n    'success'\n  );\n\n  return true;\n};\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const data = Object.fromEntries(new FormData(form).entries());\n\n  if (!checkValidation(data)) {\n    return;\n  }\n\n  saveDataToTable(data);\n  form.reset();\n});\n\nconst pushNotification = (title, description, type) => {\n  const messageConteiner = document.createElement('div');\n  const messageTitle = document.createElement('h2');\n  const messageDescription = document.createElement('p');\n\n  document.body.append(messageConteiner);\n  messageConteiner.append(messageTitle);\n  messageConteiner.append(messageDescription);\n  messageConteiner.classList.add('notification', type);\n  messageConteiner.classList.add(`${type}`);\n  messageConteiner.dataset.qa = 'notification';\n  messageTitle.classList.add('title');\n  messageTitle.textContent = title;\n  messageDescription.textContent = description;\n\n  setTimeout(() => messageConteiner.remove(), 3000);\n};\n\ntableBody.addEventListener('dblclick', (e) => {\n  const target = e.target;\n  const input = document.createElement('input');\n  const initialValue = target.innerText;\n\n  input.classList.add('cell-input');\n  input.type = 'text';\n  input.name = 'cellInput';\n  target.innerText = '';\n  target.append(input);\n  input.focus();\n\n  const isString = target.cellIndex === 0\n    || target.cellIndex === 1;\n  const isName = target.cellIndex === 0;\n  const isOffice = target.cellIndex === 2;\n  const isAge = target.cellIndex === 3;\n  const isSalary = target.cellIndex === 4;\n\n  function changeCellContent(value = initialValue) {\n    target.innerText = value;\n    input.remove();\n  }\n\n  function saveEditedField() {\n    if (!input.value) {\n      changeCellContent();\n\n      return;\n    }\n\n    if ((isAge || isSalary) && !input.value.match(/[0-9]/)) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isString && input.value.match(/[0-9]/)) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isSalary && input.value.match(/[0-9]/)) {\n      changeCellContent('$' + input.value\n        .toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','));\n\n      return;\n    }\n\n    if (isName && input.value.length < 4) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isName && !input.value.match(/^[a-zA-Z ]*$/g)) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isAge && (+input.value < 18 || +input.value > 90)) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isOffice && !citiesOptions.includes(input.value)) {\n      changeCellContent();\n\n      return;\n    }\n\n    changeCellContent(input.value);\n  }\n\n  input.onblur = () => {\n    saveEditedField();\n  };\n\n  input.onkeydown = (keyboardEvent) => {\n    const isEnter = keyboardEvent.code === 'Enter';\n\n    if (isEnter) {\n      saveEditedField();\n    }\n  };\n});\n"]}